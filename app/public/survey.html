<!DOCTYPE html>

<html>

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" type="text/css" href="css/normalize.css">
	<link rel="stylesheet" type="text/css" href="css/skeleton.css">
	<link rel="stylesheet" type="text/css" href="css/surveyStyle.css">

	<title>Friend Finder | Survey</title>

</head>

<body>

	<header class="header">

		<span class="header__text">Friend Finder</span>

		<a href="/"><span class="header__icon"><i class="fas fa-home"></i></span></a>

	</header>

	<div id="friendModal" class="modal">

	  <div class="modal__content row">

	  	<div class="modal__img-div five columns">

	    	<img class="modal__img .img-max-full-width" src="#">

	    </div>

	    <div class="modal__text seven columns">

		    <h4 class="modal__text-sub">
		    	You should become friends with...
		    </h4>
		    <h3 class="modal__text-primary">	
		    	⭐ <span class=modal__friend-name>Ally Smith</span> ⭐
		    </h3>

		    <span class="modal__close">&times;</span>

	    </div>

	  </div>

	</div>

	<div class="main-container questions__section">
		
		<form>

		 	<div class="row">
		  		
		  		<h5>About You</h5>

			    <div class="twelve columns">

			    	<label>Name (Required)</label>

			    	<input class="u-full-width" type="text" id="form__name">

				</div>

			</div>

		 	<div class="row">

			    <div class="twelve columns">

			    	<label>Link to photo image (Required)</label>

			    	<input class="u-full-width" type="text" id="form__photo-link">

				</div>

			</div>

		 	<div class="row questions__row">

			    <div class="six columns">

			    	<label>Your mind is always buzzing with unexplored ideas and plans.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q1">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			    <div class="six columns">

			    	<label>Generally speaking, you rely more on your experience than your imagination.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q2">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			</div>

		 	<div class="row questions__row">

			    <div class="six columns">

			    	<label>You find it easy to stay relaxed and focused even when there is some pressure.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q3">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			    <div class="six columns">

			    	<label>You rarely do something just out of sheer curiosity.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q4">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			</div>

		 	<div class="row questions__row">

			    <div class="six columns">

			    	<label>People can rarely upset you.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q5">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			    <div class="six columns">

			    	<label>It is often difficult for you to relate to other people’s feelings.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q6">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			</div>

		 	<div class="row questions__row">

			    <div class="six columns">

			    	<label>In a discussion, truth should be more important than people’s sensitivities.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q7">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			    <div class="six columns">

			    	<label>You rarely get carried away by fantasies and ideas.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q8">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			</div>

		 	<div class="row questions__row">

			    <div class="six columns">

			    	<label>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q9">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			    <div class="six columns">

			    	<label>You feel more energetic after spending time with a group of people.</label>

			    	<select class="u-full-width" type="text" class="form__question" id="form__q10">

						<option value="select">Select an option</option>
						<option value="5">5 - strongly agree</option>
						<option value="4">4</option>
						<option value="3">3</option>
						<option value="2">2</option>
				        <option value="1">1 - strongly disagree</option>

			    	</select>

				</div>

			</div>

			<input type="submit" value="submit" class="form__submit-btn">

		</form>

	</div>

	<footer class="footer">
		
		<div class="footer__text">

			<span><a href="/api/friends">API Friends List</a></span> | <span><a href="https://github.com/allysmith424/friendFinder">GitHub Repo</a></span>

		</div>

	</footer>

	<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<script type="text/javascript">
		
		$(".form__submit-btn").on("click", function(e) {

			e.preventDefault();

			if ($("#form__name").val() === "" || $("#form__photo-link").val() === "" || $("#form__q1").val() === "select" || $("#form__q2").val() === "select" || $("#form__q3").val() === "select" || $("#form__q4").val() === "select" || $("#form__q5").val() === "select" || $("#form__q6").val() === "select" || $("#form__q7").val() === "select" || $("#form__q8").val() === "select" || $("#form__q9").val() === "select" || $("#form__q10").val() === "select") { 

				$("form").append("<p class='form__validate-text'>Please fill in all questions...</p>");

			}

			else {

				var newFriend = {

					"name": $("#form__name").val().trim(),
					"photo": "images/ally.jpeg",
					"q1": $("#form__q1").val(),
					"q2": $("#form__q2").val(),
					"q3": $("#form__q3").val(),
					"q4": $("#form__q4").val(),
					"q5": $("#form__q5").val(),
					"q6": $("#form__q6").val(),
					"q7": $("#form__q7").val(),
					"q8": $("#form__q8").val(),
					"q9": $("#form__q9").val(),
					"q10": $("#form__q10").val()

				};

				$.post("/api/new", newFriend)
				.then(function(data) {

					$(".modal").show();

					$("#form__name, #form__photo-link").val("");
					$("#form__q1, #form__q2, #form__q3, #form__q4, #form__q5, #form__q6, #form__q7, #form__q8, #form__q9, #form__q10").val("Select an option");

					$(".modal__image").attr("src", data.photo);
					$(".modal__friend-name").text(data.name);

				});

			}

		});

		$(document).on("click", ".modal__close", function() {

			$(".modal").hide();

		});

	</script>

</body>

</html>